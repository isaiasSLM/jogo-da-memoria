const cards = document.querySelectorAll('.card');
let hasFlippedCard = false;
let lockBoard = false;
let firstCard, secondCard;
let matchedPairs = 0;
const totalPairs = 6;

const cardPairs = {
    1: 2,
    3: 4,
    5: 6,
    7: 8,
    9: 10,
    11: 12,
};

(function shuffle() {
    cards.forEach(card => {
        let randomPos = Math.floor(Math.random() * 12);
        card.style.order = randomPos;
    });
})();

function flipCard() {
    if (lockBoard) return;
    if (this === firstCard) return;

    this.classList.add('flip');

    if (!hasFlippedCard) {
        hasFlippedCard = true;
        firstCard = this;
        return;
    }

    secondCard = this;
    checkForMatch();
}

function checkForMatch() {
    const firstCardId = parseInt(firstCard.dataset.id);
    const secondCardId = parseInt(secondCard.dataset.id);

    if (cardPairs[firstCardId] === secondCardId || cardPairs[secondCardId] === firstCardId) {
        disableCards();
        matchedPairs++;

        if (matchedPairs === totalPairs) {
            setTimeout(showCongratulations, 500);
        }
    } else {
        unflipCards();
    }
}

function disableCards() {
    firstCard.removeEventListener('click', flipCard);
    secondCard.removeEventListener('click', flipCard);
    resetBoard();
}

function unflipCards() {
    lockBoard = true;
    setTimeout(() => {
        firstCard.classList.remove('flip');
        secondCard.classList.remove('flip');
        resetBoard();
    }, 1500);
}

function resetBoard() {
    [hasFlippedCard, lockBoard] = [false, false];
    [firstCard, secondCard] = [null, null];
}

function showCongratulations() {
    const messageContainer = document.createElement('div');
    messageContainer.classList.add('congratulations-message');

    const message = document.createElement('h2');
    message.textContent = 'Parabéns! Você concluiu o jogo!';

    const restartButton = document.createElement('button');
    restartButton.textContent = 'Reiniciar Jogo';
    restartButton.addEventListener('click', restartGame);

    messageContainer.appendChild(message);
    messageContainer.appendChild(restartButton);

    document.body.appendChild(messageContainer);
}

function restartGame() {
    matchedPairs = 0;
    cards.forEach(card => {
        card.classList.remove('flip');
        card.addEventListener('click', flipCard);
    });

    document.querySelector('.congratulations-message').remove();
    shuffle();
}

cards.forEach(card => card.addEventListener('click', flipCard));



/* Estilos gerais */
body {
    font-family: 'Arial', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    margin: 0;
    background-image: url('img/fundo2.jpg');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}

h1 {
    color: white;
    font-size: 2rem;
    margin-bottom: 20px;
    text-align: center;
    text-shadow: 2px 2px 4px rgb(85, 6, 213);
}

/* Estilos para o tabuleiro de jogo */
.game-board {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    gap: 15px;
    padding: 10px;
    width: 100%;
    max-width: 500px;
}

/* Estilos para as cartas */
.card {
    width: 100%;
    aspect-ratio: 4/5;
    perspective: 1000px;
    cursor: pointer;
    position: relative;
}

.front,
.back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    transition: transform 0.6s ease;
    padding: 10px;
    box-sizing: border-box;
    flex-direction: column;
    text-align: center;
}

.front {
    background-image: url('img/fundocarta.jpg');
    background-size: cover;
    background-position: center;
    transform: rotateY(0deg);
}

.back {
    background-color: white;
    transform: rotateY(180deg);
}

.card.flip .front {
    transform: rotateY(180deg);
}

.card.flip .back {
    transform: rotateY(360deg);
}

.back h1 {
    font-size: 1rem;
    color: #333;
    margin: 5px 0;
}

.back p {
    font-size: 0.8rem;
    color: #000000;
    margin: 5px 0;
}

/* Estilos de imagem dentro das cartas */
img {
    max-width: 100%;
    max-height: 100%;
    border-radius: 10px;
}

/* Estilo da mensagem de congratulação */
.congratulations-message {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: rgba(3, 1, 1, 0.701);
    color: rgb(219, 214, 214);
    padding: 20px;
    border-radius: 20px;
    text-align: center;
    z-index: 10;
}

.congratulations-message h2 {
    margin-bottom: 20px;
    font-size: 1.5rem;
}

.congratulations-message button {
    padding: 10px 20px;
    background-color: #4c51af;
    color: white;
    border: none;
    border-radius: 50px;
    cursor: pointer;
}

.congratulations-message button:hover {
    background-color: #45a049;
}

/* Ajustes para telas pequenas */
@media (max-width: 600px) {
    .back h1 {
        font-size: 0.8rem;
        /* Reduzi o tamanho da fonte do título */
    }

    .back p {
        font-size: 0.65rem;
        /* Reduzi ainda mais o tamanho do texto */
        padding: 0 5px;
    }
}

/* Media query para telas maiores, como computadores */
@media (min-width: 768px) {
    .game-board {
        grid-template-columns: repeat(4, 150px);
        gap: 20px;
        max-width: 700px;
    }

    .card {
        width: 150px;
        height: 200px;
    }

    h1 {
        font-size: 2.5rem;
        /* Ajustei o título principal */
    }
}


<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo da Memória</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Jogo da Memória - Diversidade do Povo Brasileiro</h1>
    <div class="game-board">
        <div class="card" data-id="1">
            <div class="front"></div>
            <div class="back"><img src="img/portugues.png" alt="Imagem 1"></div>
        </div>
        <div class="card" data-id="2">
            <div class="front"></div>
            <div class="back">
                <h1>Povo português

                </h1>
                <p>“Os portugueses trouxeram o catolicismo e influenciaram a arquitetura colonial brasileira”.
                </p>
            </div>
        </div>
        <div class="card" data-id="3">
            <div class="front"></div>
            <div class="back"><img src="img/asiatica.jpg" alt="Imagem 2"></div>
        </div>
        <div class="card" data-id="4">
            <div class="front"></div>
            <div class="back">
                <p>Texto 2</p>
            </div>
        </div>
        <div class="card" data-id="5">
            <div class="front"></div>
            <div class="back"><img src="img/pt.jpg" alt="Imagem 3"></div>
        </div>
        <div class="card" data-id="6">
            <div class="front"></div>
            <div class="back">
                <p>Texto 3</p>
            </div>
        </div>
        <div class="card" data-id="7">
            <div class="front"></div>
            <div class="back"><img src="img/indigina.jpg" alt="Imagem 4"></div>
        </div>
        <div class="card" data-id="8">
            <div class="front"></div>
            <div class="back">
                <p>Texto 4</p>
            </div>
        </div>
        <div class="card" data-id="9">
            <div class="front"></div>
            <div class="back"><img src="img/.jpg" alt="Imagem 5"></div>
        </div>
        <div class="card" data-id="10">
            <div class="front"></div>
            <div class="back">
                <p>Texto 5</p>
            </div>
        </div>
        <div class="card" data-id="11">
            <div class="front"></div>
            <div class="back"><img src="img/.jpg" alt="Imagem 6"></div>
        </div>
        <div class="card" data-id="12">
            <div class="front"></div>
            <div class="back">
                <p>Texto 6</p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>